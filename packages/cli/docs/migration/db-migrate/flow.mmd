flowchart TD
    Start([db migrate]) --> CheckStatus{--status flag?}
    
    CheckStatus -->|Yes| ShowStatus[Show migration status]
    ShowStatus --> SuccessExit([Success])
    
    CheckStatus -->|No| CheckFresh{--fresh flag?}
    
    CheckFresh -->|Yes| WarnFresh[Warn: Dropping all tables]
    WarnFresh --> MigrateFresh[migrate:fresh --force]
    MigrateFresh --> CheckSeedFresh{--seed flag?}
    CheckSeedFresh -->|Yes| SeedFresh[db:seed --force]
    CheckSeedFresh -->|No| SuccessExit
    SeedFresh --> SuccessExit
    
    CheckFresh -->|No| RunSchema[Run schema:migrate]
    RunSchema --> RunMigrate[Run migrate --force]
    RunMigrate --> CheckResult{Success?}
    
    CheckResult -->|No| FailExit([Failure])
    CheckResult -->|Yes| CheckSeed{--seed flag?}
    
    CheckSeed -->|Yes| RunSeed[Run db:seed --force]
    RunSeed --> SuccessExit
    CheckSeed -->|No| SuccessExit
