{"id":"launchpad-desktop-1k9","title":"Phase 3: FPM Pool Configuration (Custom Pool Templates, Socket Paths)","description":"Implement custom FPM pool templates at ~/.config/launchpad/php/php{version}-fpm.conf. Standardize socket paths across platforms. Configure environment variables (PATH, HOME) for CLI/Bun access from PHP processes.","status":"closed","priority":2,"issue_type":"task","owner":"nick.retel@gmail.com","created_at":"2026-01-11T23:32:20.36773+01:00","created_by":"nckrtl","updated_at":"2026-01-12T00:04:42.80732+01:00","closed_at":"2026-01-12T00:04:42.80732+01:00","close_reason":"Closed","dependencies":[{"issue_id":"launchpad-desktop-1k9","depends_on_id":"launchpad-desktop-yry","type":"blocks","created_at":"2026-01-11T23:32:32.059023+01:00","created_by":"nckrtl"}]}
{"id":"launchpad-desktop-234","title":"Migration: FrankenPHP to PHP-FPM on Host","description":"Migrate from FrankenPHP containers to PHP-FPM pools on host with Caddy. Simplifies architecture, enables direct CLI/Bun access. Cross-platform (Linux + macOS).","status":"closed","priority":1,"issue_type":"epic","owner":"nick.retel@gmail.com","created_at":"2026-01-11T23:32:02.759641+01:00","created_by":"nckrtl","updated_at":"2026-01-12T00:04:42.928558+01:00","closed_at":"2026-01-12T00:04:42.928558+01:00","close_reason":"Closed","dependencies":[{"issue_id":"launchpad-desktop-234","depends_on_id":"launchpad-desktop-rjt","type":"blocks","created_at":"2026-01-11T23:32:42.895942+01:00","created_by":"nckrtl"},{"issue_id":"launchpad-desktop-234","depends_on_id":"launchpad-desktop-yry","type":"blocks","created_at":"2026-01-11T23:32:43.73152+01:00","created_by":"nckrtl"},{"issue_id":"launchpad-desktop-234","depends_on_id":"launchpad-desktop-1k9","type":"blocks","created_at":"2026-01-11T23:32:44.735367+01:00","created_by":"nckrtl"},{"issue_id":"launchpad-desktop-234","depends_on_id":"launchpad-desktop-shc","type":"blocks","created_at":"2026-01-11T23:32:45.895398+01:00","created_by":"nckrtl"},{"issue_id":"launchpad-desktop-234","depends_on_id":"launchpad-desktop-k6a","type":"blocks","created_at":"2026-01-11T23:32:46.857226+01:00","created_by":"nckrtl"},{"issue_id":"launchpad-desktop-234","depends_on_id":"launchpad-desktop-b8m","type":"blocks","created_at":"2026-01-11T23:32:47.749444+01:00","created_by":"nckrtl"}]}
{"id":"launchpad-desktop-2yx","title":"Verify Phase 2: Desktop Integration Works","description":"Run all Phase 2 verification checks to ensure desktop properly invokes CLI.\n\nPASS CRITERIA:\n- grep -l \"parseCliProgress\" app/Http/Controllers/ProvisioningController.php -\u003e file path returned\n- grep -l \"launchpad setup --json\" app/Http/Controllers/ProvisioningController.php -\u003e file path returned\n- grep -l \"localChecklistItems\" resources/js/Pages/Provisioning.vue -\u003e file path returned\n- php artisan test --filter=Provisioning -\u003e shows OK/PASS for all provisioning tests\n\nMark complete ONLY when ALL checks pass.","status":"tombstone","priority":3,"issue_type":"task","owner":"nick.retel@gmail.com","created_at":"2026-01-12T18:42:17.550673+01:00","created_by":"nckrtl","updated_at":"2026-01-12T18:46:37.820492+01:00","deleted_at":"2026-01-12T18:46:37.820492+01:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"launchpad-desktop-6xw","title":"Phase 3: Remove Redundant Desktop Files","description":"## Overview\nRemove Mac-specific service files from desktop app (now handled by CLI).\n\n## Location\nLocal launchpad-desktop repo\n\n## Files to Remove\n- `app/Services/MacPhpFpmService.php`\n- `app/Services/MacBrewService.php`\n- `app/Services/MacHorizonService.php`\n- `app/Services/CaddyfileGenerator.php`\n- `app/Console/Commands/MigrateToFpmCommand.php`\n- `app/Console/Commands/DoctorCommand.php`\n- `app/Console/Commands/StatusCommand.php`\n- `resources/stubs/mac-fpm-pool.stub`\n- `resources/stubs/horizon-launchd.plist.stub`\n- `tests/Unit/DoctorServiceTest.php`\n\n## Files to KEEP\n- `app/Services/DnsResolverService.php` - Creates /etc/resolver/ files on Mac where desktop runs\n\n## Important\n- Search for any imports/references to removed files\n- Update any service providers if needed\n- Run full test suite after cleanup\n\n## VERIFICATION\n| Check | Command | Expected |\n|-------|---------|----------|\n| MacPhpFpmService removed | `test ! -f app/Services/MacPhpFpmService.php \u0026\u0026 echo removed` | removed |\n| MacBrewService removed | `test ! -f app/Services/MacBrewService.php \u0026\u0026 echo removed` | removed |\n| MacHorizonService removed | `test ! -f app/Services/MacHorizonService.php \u0026\u0026 echo removed` | removed |\n| CaddyfileGenerator removed | `test ! -f app/Services/CaddyfileGenerator.php \u0026\u0026 echo removed` | removed |\n| DnsResolverService kept | `test -f app/Services/DnsResolverService.php \u0026\u0026 echo exists` | exists |\n| All tests pass | `php artisan test` | exit 0 |\n\n## COMPLETION\nWhen marking this task as done, you MUST run the verification commands above and confirm they pass.","status":"closed","priority":2,"issue_type":"task","owner":"nick.retel@gmail.com","created_at":"2026-01-12T18:45:16.73705+01:00","created_by":"nckrtl","updated_at":"2026-01-12T19:27:21.927981+01:00","closed_at":"2026-01-12T19:27:21.927981+01:00","close_reason":"Closed","dependencies":[{"issue_id":"launchpad-desktop-6xw","depends_on_id":"launchpad-desktop-cww","type":"blocks","created_at":"2026-01-12T18:46:04.434779+01:00","created_by":"nckrtl"}]}
{"id":"launchpad-desktop-8qh","title":"Phase 1: Create CLI Setup Command","description":"## Overview\nCreate the unified `launchpad setup` CLI command with platform detection and Mac/Linux provisioning.\n\n## Location\nSSH to launchpad@10.8.0.16:~/projects/launchpad-cli/\n\n## Files to Create\n1. `app/Commands/SetupCommand.php` - Main command with platform detection\n2. `app/Commands/Setup/MacSetup.php` - Mac-specific provisioning (15 steps)\n3. `app/Commands/Setup/LinuxSetup.php` - Linux-specific provisioning (12 steps)\n4. `app/Commands/Setup/SetupProgress.php` - Trait for JSON output\n\n## Command Signature\n```php\nprotected $signature = 'setup\n    {--tld=test : TLD for local development sites}\n    {--php-versions=8.4,8.5 : PHP versions to install (comma-separated)}\n    {--skip-docker : Skip Docker/OrbStack installation}\n    {--json : Output progress as JSON for programmatic consumption}';\n```\n\n## Mac Setup Steps (15 steps)\n1. Detect system (macOS, architecture)\n2. Check/Install Homebrew\n3. Check/Install OrbStack\n4. Add PHP tap (shivammathur/php)\n5. Install PHP versions\n6. Install Caddy\n7. Install support tools (Bun, Composer)\n8. Create directories\n9. Configure PHP-FPM pools\n10. Configure Caddy\n11. Configure DNS resolver\n12. Start PHP-FPM\n13. Start Caddy\n14. Init Docker services\n15. Install Horizon (launchd)\n\n## VERIFICATION\n| Check | Command | Expected |\n|-------|---------|----------|\n| SetupCommand.php exists | `ssh launchpad@10.8.0.16 'test -f ~/projects/launchpad-cli/app/Commands/SetupCommand.php \u0026\u0026 echo exists'` | exists |\n| MacSetup.php exists | `ssh launchpad@10.8.0.16 'test -f ~/projects/launchpad-cli/app/Commands/Setup/MacSetup.php \u0026\u0026 echo exists'` | exists |\n| LinuxSetup.php exists | `ssh launchpad@10.8.0.16 'test -f ~/projects/launchpad-cli/app/Commands/Setup/LinuxSetup.php \u0026\u0026 echo exists'` | exists |\n| SetupProgress.php exists | `ssh launchpad@10.8.0.16 'test -f ~/projects/launchpad-cli/app/Commands/Setup/SetupProgress.php \u0026\u0026 echo exists'` | exists |\n| Command has options | `ssh launchpad@10.8.0.16 'cd ~/projects/launchpad-cli \u0026\u0026 php launchpad setup --help' \\| grep -c '\\-\\-tld\\|\\-\\-php-versions\\|\\-\\-skip-docker\\|\\-\\-json'` | 4 |\n\n## COMPLETION\nWhen marking this task as done, you MUST run the verification commands above and confirm they pass.","status":"closed","priority":2,"issue_type":"task","owner":"nick.retel@gmail.com","created_at":"2026-01-12T18:44:35.820754+01:00","created_by":"nckrtl","updated_at":"2026-01-12T19:20:15.481046+01:00","closed_at":"2026-01-12T19:20:15.481046+01:00","close_reason":"Closed"}
{"id":"launchpad-desktop-8tv","title":"Declarative Service Management","description":"Replace hardcoded Docker service definitions in launchpad-cli with YAML-based templates. Users configure via services.yaml, system generates unified docker-compose.yaml.\n\nTarget: Remote CLI at ssh launchpad@10.8.0.16:~/projects/launchpad-cli/\n\n5 Phases:\n1. DTOs and Template Loader\n2. Compose Generator and Service Manager  \n3. CLI Commands\n4. Service Templates\n5. Update Existing Commands \u0026 Remove Legacy","status":"closed","priority":2,"issue_type":"epic","owner":"nick.retel@gmail.com","created_at":"2026-01-12T23:18:25.030803+01:00","created_by":"nckrtl","updated_at":"2026-01-13T00:12:49.864081+01:00","closed_at":"2026-01-13T00:12:49.864081+01:00","close_reason":"Closed"}
{"id":"launchpad-desktop-8tv.1","title":"Phase 1: DTOs and Template Loader","description":"Create the foundational data structures for the service management system.\n\n## Files to Create\n- app/Data/ServiceTemplate.php - DTO with properties: name, label, description, category, versions, configSchema, dockerConfig, dependsOn\n- app/Services/ServiceTemplateLoader.php - Methods: load(), loadAll(), getAvailable()\n- app/Services/ServiceConfigValidator.php - Methods: validate(), applyDefaults()\n- tests/Unit/ServiceTemplateTest.php - Unit tests for DTO and loader\n\n## Target\nRemote CLI at ssh launchpad@10.8.0.16:~/projects/launchpad-cli/\n\n## VERIFICATION\n| Check | Command | Expected |\n|-------|---------|----------|\n| ServiceTemplate DTO exists | ssh launchpad@10.8.0.16 \"test -f ~/projects/launchpad-cli/app/Data/ServiceTemplate.php \u0026\u0026 echo exists\" | exists |\n| ServiceTemplateLoader exists | ssh launchpad@10.8.0.16 \"test -f ~/projects/launchpad-cli/app/Services/ServiceTemplateLoader.php \u0026\u0026 echo exists\" | exists |\n| ServiceConfigValidator exists | ssh launchpad@10.8.0.16 \"test -f ~/projects/launchpad-cli/app/Services/ServiceConfigValidator.php \u0026\u0026 echo exists\" | exists |\n| Unit tests pass | ssh launchpad@10.8.0.16 \"cd ~/projects/launchpad-cli \u0026\u0026 ./vendor/bin/pest --filter=ServiceTemplate\" | Tests passed |\n| Full test suite passes | ssh launchpad@10.8.0.16 \"cd ~/projects/launchpad-cli \u0026\u0026 ./vendor/bin/pest\" | Tests passed |","status":"closed","priority":2,"issue_type":"task","owner":"nick.retel@gmail.com","created_at":"2026-01-12T23:18:41.000328+01:00","created_by":"nckrtl","updated_at":"2026-01-12T23:25:59.556848+01:00","closed_at":"2026-01-12T23:25:59.556848+01:00","close_reason":"Closed","dependencies":[{"issue_id":"launchpad-desktop-8tv.1","depends_on_id":"launchpad-desktop-8tv","type":"parent-child","created_at":"2026-01-12T23:18:41.001023+01:00","created_by":"nckrtl"}]}
{"id":"launchpad-desktop-8tv.2","title":"Phase 2: Compose Generator and Service Manager","description":"Create the core service management components.\n\n## Files to Create\n- app/Services/ComposeGenerator.php - Methods: generate(), write(). Handles variable interpolation (${version}, ${data_path}), dependency sorting, network config\n- app/Services/ServiceManager.php - Methods: loadServices(), saveServices(), getEnabled(), enable(), disable(), configure(), regenerateCompose(), start(), stop(), startAll(), stopAll()\n- stubs/services.yaml.stub - Default configuration template\n- tests/Unit/ComposeGeneratorTest.php\n- tests/Unit/ServiceManagerTest.php\n\n## Target\nRemote CLI at ssh launchpad@10.8.0.16:~/projects/launchpad-cli/\n\n## VERIFICATION\n| Check | Command | Expected |\n|-------|---------|----------|\n| ComposeGenerator exists | ssh launchpad@10.8.0.16 \"test -f ~/projects/launchpad-cli/app/Services/ComposeGenerator.php \u0026\u0026 echo exists\" | exists |\n| ServiceManager exists | ssh launchpad@10.8.0.16 \"test -f ~/projects/launchpad-cli/app/Services/ServiceManager.php \u0026\u0026 echo exists\" | exists |\n| services.yaml.stub created | ssh launchpad@10.8.0.16 \"test -f ~/projects/launchpad-cli/stubs/services.yaml.stub \u0026\u0026 echo exists\" | exists |\n| Compose generation works | ssh launchpad@10.8.0.16 \"cd ~/projects/launchpad-cli \u0026\u0026 php launchpad init --dry-run 2\u003e/dev/null \\| grep -c docker-compose\" | \u003e=1 |\n| Variable interpolation works | ssh launchpad@10.8.0.16 \"grep -c launchpad-postgres ~/.config/launchpad/docker-compose.yaml\" | \u003e=1 |\n| Full test suite passes | ssh launchpad@10.8.0.16 \"cd ~/projects/launchpad-cli \u0026\u0026 ./vendor/bin/pest\" | Tests passed |","status":"closed","priority":2,"issue_type":"task","owner":"nick.retel@gmail.com","created_at":"2026-01-12T23:18:49.395725+01:00","created_by":"nckrtl","updated_at":"2026-01-12T23:44:19.284453+01:00","closed_at":"2026-01-12T23:44:19.284453+01:00","close_reason":"Closed","dependencies":[{"issue_id":"launchpad-desktop-8tv.2","depends_on_id":"launchpad-desktop-8tv","type":"parent-child","created_at":"2026-01-12T23:18:49.396271+01:00","created_by":"nckrtl"},{"issue_id":"launchpad-desktop-8tv.2","depends_on_id":"launchpad-desktop-8tv.1","type":"blocks","created_at":"2026-01-12T23:19:37.744642+01:00","created_by":"nckrtl"}]}
{"id":"launchpad-desktop-8tv.3","title":"Phase 3: CLI Commands","description":"Create the CLI commands for service management.\n\n## Files to Create\nDirectory: app/Commands/Service/\n\n- ServiceListCommand.php - service:list [--available] [--json]\n- ServiceEnableCommand.php - service:enable {service} [--json]\n- ServiceDisableCommand.php - service:disable {service} [--json]\n- ServiceConfigureCommand.php - service:configure {service} [--set key=value] [--json]\n- ServiceInfoCommand.php - service:info {service} [--json]\n- tests/Feature/ServiceCommandsTest.php\n\n## Target\nRemote CLI at ssh launchpad@10.8.0.16:~/projects/launchpad-cli/\n\n## VERIFICATION\n| Check | Command | Expected |\n|-------|---------|----------|\n| ServiceListCommand exists | ssh launchpad@10.8.0.16 \"test -f ~/projects/launchpad-cli/app/Commands/Service/ServiceListCommand.php \u0026\u0026 echo exists\" | exists |\n| ServiceEnableCommand exists | ssh launchpad@10.8.0.16 \"test -f ~/projects/launchpad-cli/app/Commands/Service/ServiceEnableCommand.php \u0026\u0026 echo exists\" | exists |\n| ServiceDisableCommand exists | ssh launchpad@10.8.0.16 \"test -f ~/projects/launchpad-cli/app/Commands/Service/ServiceDisableCommand.php \u0026\u0026 echo exists\" | exists |\n| ServiceConfigureCommand exists | ssh launchpad@10.8.0.16 \"test -f ~/projects/launchpad-cli/app/Commands/Service/ServiceConfigureCommand.php \u0026\u0026 echo exists\" | exists |\n| ServiceInfoCommand exists | ssh launchpad@10.8.0.16 \"test -f ~/projects/launchpad-cli/app/Commands/Service/ServiceInfoCommand.php \u0026\u0026 echo exists\" | exists |\n| service:list --json works | ssh launchpad@10.8.0.16 \"cd ~/projects/launchpad-cli \u0026\u0026 php launchpad service:list --json \\| jq -e .services\" | exits 0 |\n| service:enable mysql works | ssh launchpad@10.8.0.16 \"cd ~/projects/launchpad-cli \u0026\u0026 php launchpad service:enable mysql --json \\| jq -e .success\" | true |\n| service:disable mysql works | ssh launchpad@10.8.0.16 \"cd ~/projects/launchpad-cli \u0026\u0026 php launchpad service:disable mysql --json \\| jq -e .success\" | true |\n| Full test suite passes | ssh launchpad@10.8.0.16 \"cd ~/projects/launchpad-cli \u0026\u0026 ./vendor/bin/pest\" | Tests passed |","status":"closed","priority":2,"issue_type":"task","owner":"nick.retel@gmail.com","created_at":"2026-01-12T23:19:00.379973+01:00","created_by":"nckrtl","updated_at":"2026-01-12T23:57:33.941233+01:00","closed_at":"2026-01-12T23:57:33.941233+01:00","close_reason":"Closed","dependencies":[{"issue_id":"launchpad-desktop-8tv.3","depends_on_id":"launchpad-desktop-8tv","type":"parent-child","created_at":"2026-01-12T23:19:00.380596+01:00","created_by":"nckrtl"},{"issue_id":"launchpad-desktop-8tv.3","depends_on_id":"launchpad-desktop-8tv.2","type":"blocks","created_at":"2026-01-12T23:19:37.826771+01:00","created_by":"nckrtl"}]}
{"id":"launchpad-desktop-8tv.4","title":"Phase 4: Service Templates","description":"Create the YAML service templates.\n\n## Files to Create\nDirectory: stubs/templates/\n\n- postgres.yaml - Migrate from existing stub\n- redis.yaml - Migrate from existing stub\n- mailpit.yaml - Migrate from existing stub\n- reverb.yaml - Migrate from existing stub\n- dns.yaml - Migrate from existing stub\n- mysql.yaml - New service\n- meilisearch.yaml - New service\n\n## Template Structure\nname: service-name\nlabel: Display Name\ndescription: Service description\ncategory: database|cache|mail|search\nversions: [\"8.0\", \"8.4\"]\nconfig:\n  version: {type: string, default: \"8.0\", enum: [...]}\n  port: {type: integer, default: 5432}\ndocker:\n  image: image:${version}\n  container_name: launchpad-service\n  ports: [\"${port}:5432\"]\n  volumes: [\"${data_path}/service:/data\"]\n  networks: [launchpad]\ndepends_on: []\n\n## Target\nRemote CLI at ssh launchpad@10.8.0.16:~/projects/launchpad-cli/\n\n## VERIFICATION\n| Check | Command | Expected |\n|-------|---------|----------|\n| templates/ directory exists | ssh launchpad@10.8.0.16 \"test -d ~/projects/launchpad-cli/stubs/templates \u0026\u0026 echo exists\" | exists |\n| postgres.yaml exists | ssh launchpad@10.8.0.16 \"test -f ~/projects/launchpad-cli/stubs/templates/postgres.yaml \u0026\u0026 echo exists\" | exists |\n| mysql.yaml exists | ssh launchpad@10.8.0.16 \"test -f ~/projects/launchpad-cli/stubs/templates/mysql.yaml \u0026\u0026 echo exists\" | exists |\n| redis.yaml exists | ssh launchpad@10.8.0.16 \"test -f ~/projects/launchpad-cli/stubs/templates/redis.yaml \u0026\u0026 echo exists\" | exists |\n| mailpit.yaml exists | ssh launchpad@10.8.0.16 \"test -f ~/projects/launchpad-cli/stubs/templates/mailpit.yaml \u0026\u0026 echo exists\" | exists |\n| reverb.yaml exists | ssh launchpad@10.8.0.16 \"test -f ~/projects/launchpad-cli/stubs/templates/reverb.yaml \u0026\u0026 echo exists\" | exists |\n| dns.yaml exists | ssh launchpad@10.8.0.16 \"test -f ~/projects/launchpad-cli/stubs/templates/dns.yaml \u0026\u0026 echo exists\" | exists |\n| meilisearch.yaml exists | ssh launchpad@10.8.0.16 \"test -f ~/projects/launchpad-cli/stubs/templates/meilisearch.yaml \u0026\u0026 echo exists\" | exists |\n| Template has name field | ssh launchpad@10.8.0.16 \"grep -c ^name: ~/projects/launchpad-cli/stubs/templates/postgres.yaml\" | 1 |\n| Template has docker section | ssh launchpad@10.8.0.16 \"grep -c ^docker: ~/projects/launchpad-cli/stubs/templates/postgres.yaml\" | 1 |\n| Full test suite passes | ssh launchpad@10.8.0.16 \"cd ~/projects/launchpad-cli \u0026\u0026 ./vendor/bin/pest\" | Tests passed |","status":"closed","priority":2,"issue_type":"task","owner":"nick.retel@gmail.com","created_at":"2026-01-12T23:19:11.005732+01:00","created_by":"nckrtl","updated_at":"2026-01-13T00:01:53.938161+01:00","closed_at":"2026-01-13T00:01:53.938161+01:00","close_reason":"Closed","dependencies":[{"issue_id":"launchpad-desktop-8tv.4","depends_on_id":"launchpad-desktop-8tv","type":"parent-child","created_at":"2026-01-12T23:19:11.00635+01:00","created_by":"nckrtl"},{"issue_id":"launchpad-desktop-8tv.4","depends_on_id":"launchpad-desktop-8tv.3","type":"blocks","created_at":"2026-01-12T23:19:37.908033+01:00","created_by":"nckrtl"}]}
{"id":"launchpad-desktop-8tv.5","title":"Phase 5: Update Existing Commands \u0026 Remove Legacy","description":"Update existing commands to use ServiceManager and remove legacy code.\n\n## Files to Modify\n- app/Commands/StartCommand.php - Use ServiceManager::startAll()\n- app/Commands/StopCommand.php - Use ServiceManager::stopAll()\n- app/Commands/StatusCommand.php - Use ServiceManager for service list\n- app/Commands/InitCommand.php - Generate default services.yaml and docker-compose.yaml\n- app/Services/DockerManager.php - Remove CONTAINERS constant, simplify to use generated compose\n\n## Files to Delete\n- stubs/postgres/docker-compose.yml\n- stubs/redis/docker-compose.yml\n- stubs/mailpit/docker-compose.yml\n- stubs/reverb/docker-compose.yml\n- stubs/dns/docker-compose.yml\n- stubs/horizon/docker-compose.yml\n- stubs/php/docker-compose.yml\n- stubs/caddy/docker-compose.yml\n\n## Target\nRemote CLI at ssh launchpad@10.8.0.16:~/projects/launchpad-cli/\n\n## VERIFICATION\n| Check | Command | Expected |\n|-------|---------|----------|\n| CONTAINERS constant removed | ssh launchpad@10.8.0.16 \"\\! grep -q 'const CONTAINERS' ~/projects/launchpad-cli/app/Services/DockerManager.php \u0026\u0026 echo removed\" | removed |\n| Legacy postgres stub deleted | ssh launchpad@10.8.0.16 \"\\! test -f ~/projects/launchpad-cli/stubs/postgres/docker-compose.yml \u0026\u0026 echo deleted\" | deleted |\n| Legacy redis stub deleted | ssh launchpad@10.8.0.16 \"\\! test -f ~/projects/launchpad-cli/stubs/redis/docker-compose.yml \u0026\u0026 echo deleted\" | deleted |\n| Legacy mailpit stub deleted | ssh launchpad@10.8.0.16 \"\\! test -f ~/projects/launchpad-cli/stubs/mailpit/docker-compose.yml \u0026\u0026 echo deleted\" | deleted |\n| Legacy reverb stub deleted | ssh launchpad@10.8.0.16 \"\\! test -f ~/projects/launchpad-cli/stubs/reverb/docker-compose.yml \u0026\u0026 echo deleted\" | deleted |\n| Legacy dns stub deleted | ssh launchpad@10.8.0.16 \"\\! test -f ~/projects/launchpad-cli/stubs/dns/docker-compose.yml \u0026\u0026 echo deleted\" | deleted |\n| StartCommand uses ServiceManager | ssh launchpad@10.8.0.16 \"grep -c ServiceManager ~/projects/launchpad-cli/app/Commands/StartCommand.php\" | \u003e=1 |\n| StopCommand uses ServiceManager | ssh launchpad@10.8.0.16 \"grep -c ServiceManager ~/projects/launchpad-cli/app/Commands/StopCommand.php\" | \u003e=1 |\n| StatusCommand uses ServiceManager | ssh launchpad@10.8.0.16 \"grep -c ServiceManager ~/projects/launchpad-cli/app/Commands/StatusCommand.php\" | \u003e=1 |\n| launchpad start works | ssh launchpad@10.8.0.16 \"cd ~/projects/launchpad-cli \u0026\u0026 php launchpad start --json \\| jq -e .success\" | true |\n| launchpad status shows services | ssh launchpad@10.8.0.16 \"cd ~/projects/launchpad-cli \u0026\u0026 php launchpad status --json \\| jq -e .services\" | exits 0 |\n| Full test suite passes | ssh launchpad@10.8.0.16 \"cd ~/projects/launchpad-cli \u0026\u0026 ./vendor/bin/pest\" | Tests passed |","status":"closed","priority":2,"issue_type":"task","owner":"nick.retel@gmail.com","created_at":"2026-01-12T23:19:23.970069+01:00","created_by":"nckrtl","updated_at":"2026-01-13T00:12:42.188946+01:00","closed_at":"2026-01-13T00:12:42.188946+01:00","close_reason":"Closed","dependencies":[{"issue_id":"launchpad-desktop-8tv.5","depends_on_id":"launchpad-desktop-8tv","type":"parent-child","created_at":"2026-01-12T23:19:23.97072+01:00","created_by":"nckrtl"},{"issue_id":"launchpad-desktop-8tv.5","depends_on_id":"launchpad-desktop-8tv.4","type":"blocks","created_at":"2026-01-12T23:19:37.99253+01:00","created_by":"nckrtl"}]}
{"id":"launchpad-desktop-911","title":"Verify Phase 1: CLI Setup Command Works","description":"Run all Phase 1 verification checks to ensure CLI setup command is functional.\n\nPASS CRITERIA:\n- ssh launchpad@10.8.0.16 'cd ~/projects/launchpad-cli \u0026\u0026 php launchpad setup --help' -\u003e shows all expected options\n- ssh launchpad@10.8.0.16 'cd ~/projects/launchpad-cli \u0026\u0026 ls app/Commands/Setup/' -\u003e all 3 files exist\n- ssh launchpad@10.8.0.16 'cd ~/projects/launchpad-cli \u0026\u0026 grep -l \"PHP_OS_FAMILY\" app/Commands/SetupCommand.php' -\u003e file path returned\n- ssh launchpad@10.8.0.16 'cd ~/projects/launchpad-cli \u0026\u0026 php launchpad setup --json --tld=test 2\u003e\u00261 | head -5' -\u003e valid JSON lines output\n\nMark complete ONLY when ALL checks pass.","status":"tombstone","priority":3,"issue_type":"task","owner":"nick.retel@gmail.com","created_at":"2026-01-12T18:42:00.183585+01:00","created_by":"nckrtl","updated_at":"2026-01-12T18:46:37.820492+01:00","deleted_at":"2026-01-12T18:46:37.820492+01:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"launchpad-desktop-91a","title":"Phase 3: Remove Redundant Desktop Files","description":"Remove Mac-specific provisioning files from desktop app (now handled by CLI).\n\nAFFECTED FILES:\n- app/Services/MacPhpFpmService.php (remove)\n- app/Services/MacBrewService.php (remove)\n- app/Services/MacHorizonService.php (remove)\n- app/Services/CaddyfileGenerator.php (remove)\n- app/Console/Commands/MigrateToFpmCommand.php (remove)\n- app/Console/Commands/DoctorCommand.php (remove)\n- app/Console/Commands/StatusCommand.php (remove)\n- resources/stubs/mac-fpm-pool.stub (remove)\n- resources/stubs/horizon-launchd.plist.stub (remove)\n\nKEEP:\n- app/Services/DnsResolverService.php (still needed for /etc/resolver/ management)\n\nVERIFICATION:\n- test ! -f app/Services/MacPhpFpmService.php -\u003e file does not exist\n- test ! -f app/Services/MacBrewService.php -\u003e file does not exist\n- test ! -f app/Services/MacHorizonService.php -\u003e file does not exist\n- test ! -f app/Services/CaddyfileGenerator.php -\u003e file does not exist\n- test -f app/Services/DnsResolverService.php -\u003e file still exists\n- php artisan test -\u003e all tests pass\n\nCOMPLETION: Output \u003cpromise\u003eTASK_COMPLETE\u003c/promise\u003e when all verification passes.","status":"tombstone","priority":2,"issue_type":"task","owner":"nick.retel@gmail.com","created_at":"2026-01-12T18:42:27.388185+01:00","created_by":"nckrtl","updated_at":"2026-01-12T18:46:37.820492+01:00","deleted_at":"2026-01-12T18:46:37.820492+01:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"launchpad-desktop-9g2","title":"Phase 4: Release and E2E Testing","description":"## Overview\nBuild CLI phar, create GitHub release, and perform end-to-end testing.\n\n## Steps\n\n### 1. Build CLI (on remote server)\n```bash\nssh launchpad@10.8.0.16\ncd ~/projects/launchpad-cli\ngit add -A \u0026\u0026 git commit -m \"feat: Add unified setup command\"\ngit push\n~/.config/composer/vendor/bin/box compile\n```\n\n### 2. Create GitHub Release\n```bash\ngh release create v1.x.x builds/launchpad.phar --title \"v1.x.x - Unified Setup Command\" --notes \"Add launchpad setup command for Mac/Linux provisioning\"\n```\n\n### 3. Update CLI on Servers\n```bash\ncurl -L -o ~/.local/bin/launchpad https://github.com/nckrtl/launchpad-cli/releases/latest/download/launchpad.phar\nchmod +x ~/.local/bin/launchpad\n```\n\n### 4. E2E Testing on Mac\n1. Create new local environment in desktop app\n2. Observe provisioning progress UI\n3. Verify services running after setup\n\n## VERIFICATION\n| Check | Command | Expected |\n|-------|---------|----------|\n| CLI phar builds | `ssh launchpad@10.8.0.16 'cd ~/projects/launchpad-cli \u0026\u0026 ~/.config/composer/vendor/bin/box compile'` | exit 0 |\n| GitHub release exists | `gh release view --repo nckrtl/launchpad-cli` | latest release |\n| PHP-FPM running (Mac) | `brew services list \\| grep -E 'php.*started'` | matches |\n| Caddy running (Mac) | `brew services list \\| grep 'caddy.*started'` | matches |\n| DNS works | `dig launchpad.test @127.0.0.1 +short` | IP address |\n\n## COMPLETION\nWhen marking this task as done, you MUST run the verification commands above and confirm they pass.","status":"closed","priority":2,"issue_type":"task","owner":"nick.retel@gmail.com","created_at":"2026-01-12T18:45:30.12936+01:00","created_by":"nckrtl","updated_at":"2026-01-12T19:38:08.09403+01:00","closed_at":"2026-01-12T19:38:08.09403+01:00","close_reason":"Closed","dependencies":[{"issue_id":"launchpad-desktop-9g2","depends_on_id":"launchpad-desktop-6xw","type":"blocks","created_at":"2026-01-12T18:46:06.461672+01:00","created_by":"nckrtl"}]}
{"id":"launchpad-desktop-ajc","title":"Verify Phase 3: Cleanup Complete","description":"Run all Phase 3 verification checks to ensure redundant files removed.\n\nPASS CRITERIA:\n- test ! -f app/Services/MacPhpFpmService.php -\u003e exit code 0 (file doesn't exist)\n- test ! -f app/Services/MacBrewService.php -\u003e exit code 0\n- test ! -f app/Services/MacHorizonService.php -\u003e exit code 0\n- test ! -f app/Services/CaddyfileGenerator.php -\u003e exit code 0\n- test -f app/Services/DnsResolverService.php -\u003e exit code 0 (file exists)\n- php artisan test -\u003e shows OK/PASS\n\nMark complete ONLY when ALL checks pass.","status":"tombstone","priority":3,"issue_type":"task","owner":"nick.retel@gmail.com","created_at":"2026-01-12T18:42:33.802648+01:00","created_by":"nckrtl","updated_at":"2026-01-12T18:46:37.820492+01:00","deleted_at":"2026-01-12T18:46:37.820492+01:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"launchpad-desktop-b8m","title":"Phase 6: Testing and Documentation","description":"Write unit tests for PhpManager, CaddyfileGenerator, platform adapters. Run integration tests on Linux VM and macOS. Run E2E tests for project provisioning and PHP version switching. Update CLAUDE.md and README documentation.","status":"closed","priority":2,"issue_type":"task","owner":"nick.retel@gmail.com","created_at":"2026-01-11T23:32:24.113286+01:00","created_by":"nckrtl","updated_at":"2026-01-12T00:04:42.87124+01:00","closed_at":"2026-01-12T00:04:42.87124+01:00","close_reason":"Closed","dependencies":[{"issue_id":"launchpad-desktop-b8m","depends_on_id":"launchpad-desktop-k6a","type":"blocks","created_at":"2026-01-11T23:32:35.541452+01:00","created_by":"nckrtl"}]}
{"id":"launchpad-desktop-cww","title":"Phase 2: Desktop Integration with CLI","description":"## Overview\nUpdate the desktop app to call the new CLI `launchpad setup` command for local environments.\n\n## Location\nLocal launchpad-desktop repo\n\n## Files to Modify\n1. `app/Http/Controllers/ProvisioningController.php`\n   - Add `parseCliProgress()` method\n   - Update `run()` to handle `is_local` environments\n   - Spawn CLI in background, write to log file\n   - Parse JSON progress from log file\n\n2. `resources/js/pages/environments/Provisioning.vue`\n   - Add `localChecklistItems` for Mac-specific steps\n   - Use computed property to switch between local/remote checklist\n\n## Key Implementation\n- For local: spawn `launchpad setup --json --tld={tld}` via nohup\n- Write output to `storage/logs/provision-{id}.log`\n- Poll and parse JSON progress from file\n- Keep existing remote SSH provisioning unchanged\n\n## VERIFICATION\n| Check | Command | Expected |\n|-------|---------|----------|\n| parseCliProgress exists | `grep -c 'function parseCliProgress' app/Http/Controllers/ProvisioningController.php` | 1 |\n| run() handles is_local | `grep -c 'is_local' app/Http/Controllers/ProvisioningController.php` | \u003e= 1 |\n| Calls launchpad setup | `grep -c 'launchpad.*setup' app/Http/Controllers/ProvisioningController.php` | \u003e= 1 |\n| localChecklistItems in Vue | `grep -c 'localChecklistItems' resources/js/pages/environments/Provisioning.vue` | \u003e= 1 |\n| Tests pass | `php artisan test --filter=Provisioning` | exit 0 |\n\n## COMPLETION\nWhen marking this task as done, you MUST run the verification commands above and confirm they pass.","status":"closed","priority":2,"issue_type":"task","owner":"nick.retel@gmail.com","created_at":"2026-01-12T18:45:04.133751+01:00","created_by":"nckrtl","updated_at":"2026-01-12T19:24:27.516454+01:00","closed_at":"2026-01-12T19:24:27.516454+01:00","close_reason":"Closed","dependencies":[{"issue_id":"launchpad-desktop-cww","depends_on_id":"launchpad-desktop-8qh","type":"blocks","created_at":"2026-01-12T18:46:02.608264+01:00","created_by":"nckrtl"}]}
{"id":"launchpad-desktop-dxp","title":"Verify Phase 4: Release Complete","description":"Run all Phase 4 verification checks to ensure release and deployment successful.\n\nPASS CRITERIA:\n- ssh launchpad@10.8.0.16 'cd ~/projects/launchpad-cli \u0026\u0026 ls builds/launchpad.phar' -\u003e file path returned\n- gh release list --repo nckrtl/launchpad-cli --limit 1 | grep -q 'v' -\u003e exit code 0 (release exists)\n- launchpad --version -\u003e version number output\n- brew services list | grep -E 'started.*(php@8.4|php@8.5|caddy)' -\u003e shows 3 running services\n- launchctl list | grep -q horizon -\u003e exit code 0 (service loaded)\n\nMark complete ONLY when ALL checks pass.","status":"tombstone","priority":3,"issue_type":"task","owner":"nick.retel@gmail.com","created_at":"2026-01-12T18:42:51.793576+01:00","created_by":"nckrtl","updated_at":"2026-01-12T18:46:37.820492+01:00","deleted_at":"2026-01-12T18:46:37.820492+01:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"launchpad-desktop-k6a","title":"Phase 5: Migration Commands (migrate:to-fpm, Backward Compatibility)","description":"Create launchpad migrate:to-fpm command to automate migration. Implement backward compatibility detection (isUsingFpm vs isUsingFrankenPhp). Include rollback capability via migrate:rollback.","status":"closed","priority":2,"issue_type":"task","owner":"nick.retel@gmail.com","created_at":"2026-01-11T23:32:22.657023+01:00","created_by":"nckrtl","updated_at":"2026-01-12T00:04:42.869921+01:00","closed_at":"2026-01-12T00:04:42.869921+01:00","close_reason":"Closed","dependencies":[{"issue_id":"launchpad-desktop-k6a","depends_on_id":"launchpad-desktop-shc","type":"blocks","created_at":"2026-01-11T23:32:34.510722+01:00","created_by":"nckrtl"}]}
{"id":"launchpad-desktop-l9a","title":"Phase 1: Create CLI Setup Command","description":"Create launchpad setup command in CLI with platform detection and Mac provisioning.\n\nAFFECTED FILES (on SSH server launchpad@10.8.0.16:~/projects/launchpad-cli/):\n- app/Commands/SetupCommand.php (create)\n- app/Commands/Setup/MacSetup.php (create)\n- app/Commands/Setup/LinuxSetup.php (create)\n- app/Commands/Setup/SetupProgress.php (create)\n\nIMPLEMENTATION:\n1. SetupCommand.php: Platform detection (Darwin/Linux), --tld, --php-versions, --skip-docker, --json flags\n2. MacSetup.php: 15 steps (Homebrew, OrbStack, PHP-FPM, Caddy, DNS, Horizon)\n3. LinuxSetup.php: 12 steps (Docker, PHP-FPM, Caddy, systemd)\n4. SetupProgress.php: JSON output trait for step tracking\n5. Move CaddyfileGenerator, PHP-FPM pool config, Horizon service logic to CLI\n\nVERIFICATION:\n- ssh launchpad@10.8.0.16 'cd ~/projects/launchpad-cli \u0026\u0026 php launchpad setup --help' -\u003e shows --tld, --php-versions, --skip-docker, --json options\n- ssh launchpad@10.8.0.16 'cd ~/projects/launchpad-cli \u0026\u0026 ls app/Commands/Setup/' -\u003e MacSetup.php, LinuxSetup.php, SetupProgress.php exist\n- ssh launchpad@10.8.0.16 'cd ~/projects/launchpad-cli \u0026\u0026 grep -l \"PHP_OS_FAMILY\" app/Commands/SetupCommand.php' -\u003e confirms platform detection exists\n- ssh launchpad@10.8.0.16 'cd ~/projects/launchpad-cli \u0026\u0026 php launchpad setup --json --tld=test 2\u003e\u00261 | head -5' -\u003e outputs JSON progress lines\n\nCOMPLETION: Output \u003cpromise\u003eTASK_COMPLETE\u003c/promise\u003e when all verification passes.","status":"tombstone","priority":2,"issue_type":"task","owner":"nick.retel@gmail.com","created_at":"2026-01-12T18:41:52.102123+01:00","created_by":"nckrtl","updated_at":"2026-01-12T18:46:20.659481+01:00","deleted_at":"2026-01-12T18:46:20.659481+01:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"launchpad-desktop-oz2","title":"Phase 4: Release and E2E Testing","description":"Build CLI phar, create GitHub release, and run end-to-end tests.\n\nAFFECTED FILES:\n- Remote: ~/projects/launchpad-cli/builds/launchpad.phar (build)\n- Remote: GitHub release with phar asset\n- Local: ~/.local/bin/launchpad (update)\n\nIMPLEMENTATION:\n1. SSH to dev server, build phar with Box\n2. Create GitHub release with phar attached\n3. Update CLI on local Mac\n4. Run end-to-end test: create local environment in desktop app\n5. Verify all services running (PHP-FPM, Caddy, Horizon, Docker)\n\nVERIFICATION:\n- ssh launchpad@10.8.0.16 'cd ~/projects/launchpad-cli \u0026\u0026 ls builds/launchpad.phar' -\u003e phar exists\n- gh release list --repo nckrtl/launchpad-cli --limit 1 | grep -q 'v' -\u003e latest release exists\n- launchpad --version -\u003e shows new version\n- brew services list | grep -E 'started.*(php@8.4|php@8.5|caddy)' -\u003e 3 services running\n- launchctl list | grep -q horizon -\u003e Horizon service loaded\n\nCOMPLETION: Output \u003cpromise\u003eTASK_COMPLETE\u003c/promise\u003e when all verification passes.","status":"tombstone","priority":2,"issue_type":"task","owner":"nick.retel@gmail.com","created_at":"2026-01-12T18:42:45.194469+01:00","created_by":"nckrtl","updated_at":"2026-01-12T18:46:37.820492+01:00","deleted_at":"2026-01-12T18:46:37.820492+01:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"launchpad-desktop-rjt","title":"Phase 1: CLI Infrastructure (PhpManager, CaddyManager, Platform Adapters, Stubs)","description":"Create PhpManager service with platform adapters (LinuxAdapter, MacAdapter), CaddyManager service, HorizonManager service, and stub templates (php-fpm-pool.conf.stub, horizon-systemd.service.stub, horizon-launchd.plist.stub). Update CaddyfileGenerator for FPM socket support. Update DockerManager to remove FrankenPHP containers.","status":"closed","priority":2,"issue_type":"task","owner":"nick.retel@gmail.com","created_at":"2026-01-11T23:32:18.040275+01:00","created_by":"nckrtl","updated_at":"2026-01-12T00:04:42.809852+01:00","closed_at":"2026-01-12T00:04:42.809852+01:00","close_reason":"Closed"}
{"id":"launchpad-desktop-shc","title":"Phase 4: Horizon as System Service (systemd/launchd)","description":"Create HorizonManager service to install/manage Horizon as systemd service (Linux) or launchd plist (macOS). Configure proper PATH and environment variables for queue worker.","status":"closed","priority":2,"issue_type":"task","owner":"nick.retel@gmail.com","created_at":"2026-01-11T23:32:21.556466+01:00","created_by":"nckrtl","updated_at":"2026-01-12T00:04:42.805407+01:00","closed_at":"2026-01-12T00:04:42.805407+01:00","close_reason":"Closed","dependencies":[{"issue_id":"launchpad-desktop-shc","depends_on_id":"launchpad-desktop-1k9","type":"blocks","created_at":"2026-01-11T23:32:33.147841+01:00","created_by":"nckrtl"}]}
{"id":"launchpad-desktop-uy2","title":"Phase 2: Desktop Integration with CLI","description":"Update desktop app to invoke CLI setup command for local environments.\n\nAFFECTED FILES:\n- app/Http/Controllers/ProvisioningController.php (modify)\n- resources/js/Pages/Provisioning.vue (modify)\n\nIMPLEMENTATION:\n1. Add parseCliProgress() method to parse JSON output from CLI\n2. Update run() method to handle is_local environments by calling 'launchpad setup --json'\n3. Spawn CLI in background, capture output to logs/provision-{id}.log\n4. Update status() to read and parse CLI progress file for local environments\n5. Add localChecklistItems to Provisioning.vue (15 steps for Mac)\n6. Make checklistItems computed property that switches based on is_local\n\nVERIFICATION:\n- grep -l \"parseCliProgress\" app/Http/Controllers/ProvisioningController.php -\u003e confirms method exists\n- grep -l \"launchpad setup --json\" app/Http/Controllers/ProvisioningController.php -\u003e confirms CLI invocation\n- grep -l \"localChecklistItems\" resources/js/Pages/Provisioning.vue -\u003e confirms local checklist\n- php artisan test --filter=Provisioning -\u003e all tests pass\n\nCOMPLETION: Output \u003cpromise\u003eTASK_COMPLETE\u003c/promise\u003e when all verification passes.","status":"tombstone","priority":2,"issue_type":"task","owner":"nick.retel@gmail.com","created_at":"2026-01-12T18:42:11.378323+01:00","created_by":"nckrtl","updated_at":"2026-01-12T18:46:37.820492+01:00","deleted_at":"2026-01-12T18:46:37.820492+01:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"launchpad-desktop-x3h","title":"Mac Provisioning Migration","description":"Migrate Mac provisioning from desktop app to unified CLI command. Adds launchpad setup command with platform detection. Files: ~15 to modify/create in CLI, ~10 to remove from desktop.","status":"tombstone","priority":1,"issue_type":"epic","owner":"nick.retel@gmail.com","created_at":"2026-01-12T18:41:39.382083+01:00","created_by":"nckrtl","updated_at":"2026-01-12T18:46:37.820492+01:00","deleted_at":"2026-01-12T18:46:37.820492+01:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"epic"}
{"id":"launchpad-desktop-yry","title":"Phase 2: Desktop App Updates (ProvisioningService, SSH PATH)","description":"Update ProvisioningService to use Ondrej PPA (Linux), PHP-FPM installation via package managers, FPM pool configuration, and Caddy installation. Update SshService PATH configuration to remove herd-lite paths.","status":"closed","priority":2,"issue_type":"task","owner":"nick.retel@gmail.com","created_at":"2026-01-11T23:32:19.507972+01:00","created_by":"nckrtl","updated_at":"2026-01-12T00:04:42.808751+01:00","closed_at":"2026-01-12T00:04:42.808751+01:00","close_reason":"Closed","dependencies":[{"issue_id":"launchpad-desktop-yry","depends_on_id":"launchpad-desktop-rjt","type":"blocks","created_at":"2026-01-11T23:32:31.03928+01:00","created_by":"nckrtl"}]}
