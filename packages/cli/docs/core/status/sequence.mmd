sequenceDiagram
    participant User
    participant CLI as Status
    participant PHP as PhpManager
    participant Caddy as CaddyManager
    participant Horizon as HorizonManager
    participant Service as ServiceManager
    participant Docker as DockerManager
    participant Scanner as SiteScanner
    participant Config as ConfigManager

    User->>CLI: orbit status
    CLI->>PHP: detect architecture and check pools

    alt PHP-FPM
        CLI->>PHP: check each version running
        CLI->>Caddy: isRunning
        CLI->>Horizon: isRunning
    end

    CLI->>Service: getEnabled
    CLI->>Docker: getAllStatuses
    CLI->>Scanner: scan sites
    CLI->>Config: get path and TLD
    CLI-->>User: status display or JSON
