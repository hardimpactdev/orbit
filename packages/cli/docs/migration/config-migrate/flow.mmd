flowchart TD
    Start([config migrate]) --> GetOverrides[Get site overrides from config.json]
    
    GetOverrides --> CheckEmpty{Any overrides?}
    CheckEmpty -->|No| ReportNone[No site overrides found]
    ReportNone --> SuccessExit([Success])
    
    CheckEmpty -->|Yes| GetPaths[Get configured project paths]
    GetPaths --> LoopSites[For each site override]
    
    LoopSites --> HasPhpVersion{Has php_version?}
    HasPhpVersion -->|No| NextSite[Next site]
    
    HasPhpVersion -->|Yes| FindPath[Find project path]
    FindPath --> PathFound{Path found?}
    
    PathFound -->|No| RecordError[Record error: path not found]
    RecordError --> NextSite
    
    PathFound -->|Yes| SaveToDb[Save to database]
    SaveToDb --> CheckSaveResult{Success?}
    
    CheckSaveResult -->|No| RecordSaveError[Record save error]
    RecordSaveError --> NextSite
    
    CheckSaveResult -->|Yes| IncrementCount[Increment migrated count]
    IncrementCount --> NextSite
    
    NextSite --> MoreSites{More sites?}
    MoreSites -->|Yes| LoopSites
    MoreSites -->|No| CheckMigrated{Any migrated?}
    
    CheckMigrated -->|Yes| ClearConfig[Clear sites from config.json]
    ClearConfig --> ReportResults[Report migration results]
    CheckMigrated -->|No| ReportResults
    
    ReportResults --> SuccessExit
